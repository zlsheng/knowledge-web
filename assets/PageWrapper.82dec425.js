var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,a=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,r=(e,r)=>{for(var s in r||(r={}))t.call(r,s)&&a(e,s,r[s]);if(o)for(var s of o(r))n.call(r,s)&&a(e,s,r[s]);return e};import{a3 as s,p as l,y as i,r as c,F as d,x as u,bx as g,g as f,ar as p,al as h,by as v}from"./index.9eab7d25.js";import{d as b,a as m,c as C,Q as x,R as y,$,U as H,f as P,e as j,w as k,n as F,G as S,Y as w,x as O,a9 as _,a2 as B,_ as A,a0 as N,F as V,q as I,S as R}from"./vendor.445a818e.js";import{u as T}from"./usePageContext.1ed373ad.js";import{B as W}from"./index.37dca516.js";import{A as q}from"./index.c9ee6373.js";import{T as E}from"./transButton.5742404b.js";import{A as G}from"./ArrowLeftOutlined.8f27299a.js";import{o as L}from"./onMountedOrActivated.62880f89.js";var M={backIcon:l.VNodeChild,prefixCls:l.string,title:l.VNodeChild,subTitle:l.VNodeChild,breadcrumb:l.object,tags:l.any,footer:l.VNodeChild,extra:l.VNodeChild,avatar:l.object,ghost:l.looseBool,onBack:l.func},Q=function(e,t){var o=t.avatar,n=d(t,"title"),a=d(t,"subTitle"),r=d(t,"tags"),s=d(t,"extra"),l=void 0!==d(t,"backIcon")?d(t,"backIcon"):C(G,null,null),i=t.onBack,c="".concat(e,"-heading");if(n||a||r||s){var u=function(e,t,o,n){return o&&n?C(g,{componentName:"PageHeader",children:function(n){var a=n.back;return C("div",{class:"".concat(t,"-back")},[C(E,{onClick:function(t){e.$emit("back",t)},class:"".concat(t,"-back-button"),"aria-label":a},{default:function(){return[o]}})])}},null):null}(t,e,l,i);return C("div",{class:c},[u,o&&C(q,o,null),n&&C("span",{class:"".concat(c,"-title")},[n]),a&&C("span",{class:"".concat(c,"-sub-title")},[a]),r&&C("span",{class:"".concat(c,"-tags")},[r]),s&&C("span",{class:"".concat(c,"-extra")},[s])])}return null},U=function(e,t){return t?C("div",{class:"".concat(e,"-footer")},[t]):null},Y=function(e,t){return C("div",{class:"".concat(e,"-content")},[t])},z=s(b({name:"APageHeader",props:M,setup:function(){return{configProvider:m("configProvider",i)}},render:function(){var e=this.configProvider,t=e.getPrefixCls,o=e.pageHeader,n=c(this),a=n.prefixCls,r=n.breadcrumb,s=d(this,"footer"),l=u(this),i=!0;"ghost"in n?i=n.ghost:o&&"ghost"in o&&(i=o.ghost);var g,f,p,h=t("page-header",a),v=r&&r.routes?function(e){return C(W,e,null)}(r):null,b=[h,(g={"has-breadcrumb":v,"has-footer":s},f="".concat(h,"-ghost"),p=i,f in g?Object.defineProperty(g,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):g[f]=p,g)];return C("div",{class:b},[v,Q(h,this),l.length?Y(h,l):null,U(h,s)])}})),D=b({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=f("page-footer"),{getCalcContentWidth:t}=p();return{prefixCls:e,getCalcContentWidth:t}}});const J=H()(((e,t,o,n,a,r)=>(x(),y("div",{class:e.prefixCls,style:{width:e.getCalcContentWidth}},[C("div",{class:`${e.prefixCls}__left`},[$(e.$slots,"left",{},void 0,!0)],2),$(e.$slots,"default",{},void 0,!0),C("div",{class:`${e.prefixCls}__right`},[$(e.$slots,"right",{},void 0,!0)],2)],6))));D.render=J,D.__scopeId="data-v-f27e9424";var K=b({name:"PageWrapper",components:{PageFooter:D,PageHeader:z},inheritAttrs:!1,props:{title:h.string,dense:h.bool,ghost:h.bool,content:h.string,contentStyle:{type:Object},contentBackground:h.bool,contentFullHeight:h.bool,contentClass:h.string,fixedHeight:h.bool},setup(e,{slots:t}){const o=P(null),n=P(null),a=P(0),{prefixCls:s,prefixVar:l}=f("page-wrapper"),{contentHeight:i,setPageHeight:c,pageHeight:d}=T(),u=j((()=>[s,{[`${s}--dense`]:e.dense}])),g=j((()=>(null==t?void 0:t.leftFooter)||(null==t?void 0:t.rightFooter))),p=j((()=>Object.keys(v(t,"default","leftFooter","rightFooter","headerContent")))),h=j((()=>{const{contentFullHeight:t,contentStyle:o,fixedHeight:n}=e;if(!t)return r({},o);const s=`${S(d)}px`;return r(r(r(r({},o),{minHeight:s}),n?{height:s}:{}),{paddingBottom:`${S(a)}px`})})),b=j((()=>{const{contentBackground:t,contentClass:o}=e;return[`${s}-content`,o,{[`${s}-content-bg`]:t}]}));function m(){var t,r;if(!e.contentFullHeight)return;const s=S(n),d=S(o);a.value=0;const u=null==s?void 0:s.$el;u&&(a.value+=null!=(t=null==u?void 0:u.offsetHeight)?t:0);let g=0;const f=null==d?void 0:d.$el;f&&(g+=null!=(r=null==f?void 0:f.offsetHeight)?r:0);let p=0,h="0px",v="0px";const b=document.querySelectorAll(`.${l}-page-wrapper-content`);if(b&&b.length>0){const e=b[0],t=getComputedStyle(e);h=null==t?void 0:t.marginBottom,v=null==t?void 0:t.marginTop}if(h){p+=Number(h.replace(/[^\d]/g,""))}if(v){p+=Number(v.replace(/[^\d]/g,""))}null==c||c(S(i)-S(a)-g-p)}return k((()=>[null==i?void 0:i.value,g.value]),(()=>{m()}),{flush:"post",immediate:!0}),L((()=>{F((()=>{m()}))})),{getContentStyle:h,footerRef:n,headerRef:o,getClass:u,getHeaderSlots:p,prefixCls:s,getShowFooter:g,pageHeight:d,omit:v,getContentClass:b}}});K.render=function(e,t,o,n,a,r){const s=w("PageHeader"),l=w("PageFooter");return x(),y("div",{class:e.getClass},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(x(),y(s,O({key:0,ghost:e.ghost,title:e.title},e.$attrs,{ref:"headerRef"}),_({default:A((()=>[e.content?(x(),y(V,{key:0},[I(R(e.content),1)],64)):$(e.$slots,"headerContent",{key:1})])),_:2},[B(e.getHeaderSlots,(t=>({name:t,fn:A((o=>[$(e.$slots,t,o)]))})))]),1040,["ghost","title"])):N("",!0),C("div",{class:["overflow-hidden",e.getContentClass],style:e.getContentStyle},[$(e.$slots,"default")],6),e.getShowFooter?(x(),y(l,{key:1,ref:"footerRef"},{left:A((()=>[$(e.$slots,"leftFooter")])),right:A((()=>[$(e.$slots,"rightFooter")])),_:1},512)):N("",!0)],2)};export{K as _};
