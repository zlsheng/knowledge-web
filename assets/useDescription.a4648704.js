var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,r=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&l(e,a,r[a]);if(n)for(var a of n(r))o.call(r,a)&&l(e,a,r[a]);return e};import{r as a,F as s,x as c,bz as i,bA as u,p,L as d,y as f,bm as b,K as m,v,al as y,g as x,bB as h,ay as g,bC as C,bD as j,bE as w}from"./index.9eab7d25.js";import{r as O,a as P}from"./responsiveObserve.c545f1cc.js";import{c as D,F as S,d as k,a as E,f as z,o as I,j as N,e as A,G as L,i as M,x as W,y as B}from"./vendor.445a818e.js";import{g as V}from"./get.0c0a01c7.js";function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return null!=e}var G=function(e){var t,n=e.itemPrefixCls,o=e.component,l=e.span,r=e.bordered,a=e.label,s=e.content,c=e.colon,i=o;return r?D(i,{class:[(t={},$(t,"".concat(n,"-item-label"),F(a)),$(t,"".concat(n,"-item-content"),F(s)),t)],colSpan:l},{default:function(){return[F(a)?a:s]}}):D(i,{class:["".concat(n,"-item")],colSpan:l},{default:function(){return[a&&D("span",{class:["".concat(n,"-item-label"),$({},"".concat(n,"-item-no-colon"),!c)]},[a]),s&&D("span",{class:"".concat(n,"-item-content")},[s])]}})},K=function(e){var t=function(e,t,n){var o=t.colon,l=t.prefixCls,r=t.bordered,p=n.component,d=n.type,f=n.showLabel,b=n.showContent;return e.map((function(e,t){var n=a(e),m=n.prefixCls,v=void 0===m?l:m,y=n.span,x=void 0===y?1:y,h=s(e,"label"),g=c(e),C=i(e),j=u(e),w=e.key;return"string"==typeof p?D(G,{key:"".concat(d,"-").concat(w||t),class:C,style:j,span:x,colon:o,component:p,itemPrefixCls:v,bordered:r,label:f?h:null,content:b?g:null},null):[D(G,{key:"label-".concat(w||t),class:C,style:j,span:1,colon:o,component:p[0],itemPrefixCls:v,bordered:r,label:h},null),D(G,{key:"content-".concat(w||t),class:C,style:j,span:2*x-1,component:p[1],itemPrefixCls:v,bordered:r,content:g},null)]}))},n=e.prefixCls,o=e.vertical,l=e.row,r=e.index,p=e.bordered;return o?D(S,null,[D("tr",{key:"label-".concat(r),class:"".concat(n,"-row")},[t(l,e,{component:"th",type:"label",showLabel:!0})]),D("tr",{key:"content-".concat(r),class:"".concat(n,"-row")},[t(l,e,{component:"td",type:"content",showContent:!0})])]):D("tr",{key:r,class:"".concat(n,"-row")},[t(l,e,{component:p?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0})])};function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}p.string,p.any,p.number;var H=k({name:"ADescriptionsItem",props:{prefixCls:p.string,label:p.VNodeChild,span:p.number.def(1)},render:function(){return null}}),J={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Q(e,t,n){var o=e;return(void 0===t||t>n)&&(o=m(e,{span:n}),v(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}var R=k({name:"ADescriptions",props:{prefixCls:p.string,bordered:p.looseBool,size:p.oneOf(d("default","middle","small")).def("default"),title:p.VNodeChild,extra:p.VNodeChild,column:{type:[Number,Object],default:function(){return J}},layout:p.oneOf(d("horizontal","vertical")),colon:p.looseBool},Item:H,setup:function(e,t){var n,o=t.slots,l=E("configProvider",f).getPrefixCls,r=z({});return I((function(){n=O.subscribe((function(t){"object"===q(e.column)&&(r.value=t)}))})),N((function(){O.unsubscribe(n)})),function(){var t,n,a,s,c=e.prefixCls,i=e.column,u=e.size,p=e.bordered,d=void 0!==p&&p,f=e.layout,m=void 0===f?"horizontal":f,v=e.colon,y=void 0===v||v,x=e.title,h=void 0===x?null===(n=o.title)||void 0===n?void 0:n.call(o):x,g=e.extra,C=void 0===g?null===(a=o.extra)||void 0===a?void 0:a.call(o):g,j=l("descriptions",c),w=function(e,t){if("number"==typeof e)return e;if("object"===q(e))for(var n=0;n<P.length;n++){var o=P[n];if(t[o]&&void 0!==e[o])return e[o]||J[o]}return 3}(i,r.value),O=function(e,t){var n=b(e),o=[],l=[],r=t;return n.forEach((function(e,a){var s,c=null===(s=e.props)||void 0===s?void 0:s.span,i=c||1;if(a===n.length-1)return l.push(Q(e,c,r)),void o.push(l);i<r?(r-=i,l.push(e)):(l.push(Q(e,i,r)),o.push(l),r=t,l=[])})),o}(null===(s=o.default)||void 0===s?void 0:s.call(o),w);return D("div",{class:[j,(t={},_(t,"".concat(j,"-").concat(u),"default"!==u),_(t,"".concat(j,"-bordered"),!!d),t)]},[(h||C)&&D("div",{class:"".concat(j,"-header")},[D("div",{class:"".concat(j,"-title")},[h]),D("div",{class:"".concat(j,"-extra")},[C])]),D("div",{class:"".concat(j,"-view")},[D("table",null,[D("tbody",null,[O.map((function(e,t){return D(K,{key:t,index:t,colon:y,prefixCls:j,vertical:"vertical"===m,bordered:d,row:e},null)}))])])])])}}});R.install=function(e){return e.component(R.name,R),e.component(R.Item.name,R.Item),e};var T=k({name:"Description",props:{useCollapse:y.bool.def(!0),title:y.string.def(""),size:y.oneOf(["small","default","middle",void 0]).def("small"),bordered:y.bool.def(!0),column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:y.object},emits:["register"],setup(e,{slots:t,emit:n}){const o=z(null),{prefixCls:l}=x("description"),a=h(),s=A((()=>r(r({},e),L(o)))),c=A((()=>r(r({},L(s)),{title:void 0}))),i=A((()=>!!L(s).title)),u=A((()=>r({canExpand:!1},L(c).collapseOptions))),p=A((()=>r(r({},L(a)),L(c))));function d({label:e,labelMinWidth:t,labelStyle:n}){if(!n&&!t)return e;const o=r(r({},n),{minWidth:`${t}px `});return D("div",{style:o},[e])}const f=()=>{let e;return D(R,W({class:`${l}`},L(p)),"function"==typeof(t=e=function(){const{schema:e,data:t}=L(c);return L(e).map((e=>{const{render:n,field:o,span:l,show:r,contentMinWidth:a}=e;if(r&&g(r)&&!r(t))return null;const s=()=>{var e;const t=null==(e=L(c))?void 0:e.data;if(!t)return null;const l=V(t,o);return g(n)?n(l,t):null!=l?l:""},i=a;return D(R.Item,{label:d(e),key:o,span:l},{default:()=>a?D("div",{style:{minWidth:`${i}px`}},[s()]):s()})})).filter((e=>!!e))}())||"[object Object]"===Object.prototype.toString.call(t)&&!M(t)?e:{default:()=>[e]});var t};return n("register",{setDescProps:function(e){o.value=r(r({},L(o)),e)}}),()=>L(i)?(()=>{const n=e.useCollapse?f():D("div",null,[f()]);if(!e.useCollapse)return n;const{canExpand:o,helpMessage:l}=L(u),{title:r}=L(s);return D(j,{title:r,canExpan:o,helpMessage:l},{default:()=>n,action:()=>C(t,"action")})})():f()}});function U(e){if(!B())throw new Error("Please put useDescription function in the setup function!");const t=z(null),n=z(!1);return[function(o){L(n)&&w()||(t.value=o,e&&o.setDescProps(e),n.value=!0)},{setDescProps:e=>{var n;null==(n=L(t))||n.setDescProps(e)}}]}export{T as _,U as u};
