import{h as e,g as s,k as r,cU as o}from"./index.9eab7d25.js";import{_ as t,b as a}from"./useModal.7f0d4937.js";import{e as i,f as l}from"./useForm.551ed3f6.js";import{h as n}from"./header.d801b988.js";import{d as c,e as d,Y as m,Q as p,R as f,_ as u,c as j,S as h,q as x,x as g}from"./vendor.445a818e.js";import"./useWindowSizeFn.4826c9d6.js";import"./FullscreenOutlined.b91c2893.js";import"./index.16147537.js";import"./index.5eb2f555.js";import"./responsiveObserve.c545f1cc.js";import"./_baseIteratee.4c28a80c.js";import"./get.0c0a01c7.js";import"./findIndex.2cb8eacb.js";import"./index.87ed27e4.js";import"./RedoOutlined.7c6eecfd.js";import"./index.81514f39.js";import"./index.defcffb6.js";import"./UpOutlined.241fc329.js";import"./index.286ee882.js";import"./uuid.c3296435.js";import"./uniqBy.c7a7bfeb.js";import"./index.f3978ac3.js";var b=c({name:"LockModal",components:{BasicModal:t,BasicForm:i},setup(){const{t:t}=e(),{prefixCls:i}=s("header-lock-modal"),c=r(),m=o(),p=d((()=>{var e;return null==(e=c.getUserInfo)?void 0:e.realName})),[f,{closeModal:u}]=a(),[j,{validateFields:h,resetFields:x}]=l({showActionButtonGroup:!1,schemas:[{field:"password",label:t("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});return{t:t,prefixCls:i,getRealName:p,register:f,registerForm:j,handleLock:function(){return e=this,s=null,r=function*(){const e=(yield h()).password;u(),m.setLockInfo({isLock:!0,pwd:e}),yield x()},new Promise(((o,t)=>{var a=e=>{try{l(r.next(e))}catch(s){t(s)}},i=e=>{try{l(r.throw(e))}catch(s){t(s)}},l=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,i);l((r=r.apply(e,s)).next())}));var e,s,r},headerImg:n}}});b.render=function(e,s,r,o,t,a){const i=m("BasicForm"),l=m("a-button"),n=m("BasicModal");return p(),f(n,g({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:u((()=>[j("div",{class:`${e.prefixCls}__entry`},[j("div",{class:`${e.prefixCls}__header`},[j("img",{src:e.headerImg,class:`${e.prefixCls}__header-img`},null,10,["src"]),j("p",{class:`${e.prefixCls}__header-name`},h(e.getRealName),3)],2),j(i,{onRegister:e.registerForm},null,8,["onRegister"]),j("div",{class:`${e.prefixCls}__footer`},[j(l,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:u((()=>[x(h(e.t("layout.header.lockScreenBtn")),1)])),_:1},8,["onClick"])],2)],2)])),_:1},16,["title","class","onRegister"])};export default b;
